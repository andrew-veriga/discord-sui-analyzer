### **Функциональность**
*   **Автоматизировать сбор данных:** Заменить ручной экспорт `.xlsx` файла на интеграцию с **Discord API** для получения сообщений в реальном времени или по расписанию.
*   **Реализовать UI для корректора:** Создать интерфейс, где пользователь сможет вручную просматривать и исправлять результаты разбора логов. Это должно включать возможность:
    *   Переносить сообщения в другие треды.
    *   Изменять статус solution.
    *   На основе этих исправлений генерировать few-shot примеры для улучшения LLM.
*   **Разработать систему аналитики:** Создать дашборд для отслеживания статистики по обработке, включая:
    *   Количество обработанных сообщений и тредов.
    *   Процент технических тредов.
    *   Статистику по статусам решений (`resolved`, `suggestion`, `unresolved`, `outside`).
    *   Анализ частоты возникновения проблем.

### **Исправление ошибок**
*   **Исправить ошибку в `_find_similar_with_pgvector`:** В файле `app/services/rag_service.py` в методе `_find_similar_with_pgvector` есть комментарий `TODO`, указывающий на ошибку "List argument must consist only of dictionaries". Эту ошибку необходимо исправить для корректной работы поиска похожих решений с использованием `pgvector`.
*   **Проверить и исправить подсчет измененных топиков:** В `app/main.py` в методе `process_batch` количество измененных топиков считается неверно. Необходимо перенести логику подсчета статистики в `thread_processor.new_solutions_revision_and_add` и возвращать ее.

### **База данных**
*   **Перевести на PostgreSQL peera**
*   **Завершить миграцию на базу данных:** полностью отказаться от использования промежуточных JSON-файлов и `solutions_dict.json` и перевести всю логику на работу с базой данных. Реализовать pydantic models с `SQLAlchemy`
*   **Отладить сохранение в базе**, 
-- проверить сохранение объектов, не всё сохраняется
-- заменить PRIMARY KEY таблицы messages на существующий "message_id", он уникальный, а лишние индексы путают логику
-- документировать служебные поля таблиц
*   **Изменить логику сохранения solutions**:
    -- Актуальное значение solutions лежит в полях threads, все предыдущие уходят в solutions. 
    -- В generalization создается список solutions, и передается в revision, там все кроме новых обрабатываются, новые возвращаются и передаются в функцию сохранения и проверки в RAG. В первом запуске process_first_batch список новых сразу передается в эту функцию.
    - добавить сохранение поля parent_id таблицы messages
*   **Оптимизировать запросы к базе данных:** Проанализировать текущие запросы к базе данных и оптимизировать их для повышения производительности в `rag_service` и `thread_processor`.
*   **Создать миграции базы данных:** Использовать `Alembic` для управления миграциями схемы базы данных.

### **Рефакторинг**
*   **Разделить `thread_processor.py`:** Файл `app/services/thread_processor.py` на несколько более мелких и сфокусированных модулей.
*   **Провести рефакторинг `main.py`:** Файл `app/main.py` содержит слишком много логики. Необходимо вынести часть логики в отдельные сервисы или утилиты.

### **Развертывание и DevOps**
*   **Создать Docker-контейнер:** Написать `Dockerfile` для сборки и запуска приложения в контейнере.
*   **Настроить CI/CD:** Настроить CI/CD пайплайн (например, с помощью GitHub Actions) для автоматической сборки, тестирования и развертывания приложения.
*   **Управление конфигурацией:** учесть будущее применение системы для разных источников сообщений, вынести все значения, относящиеся к Sui support Discord в файл конфигурации с целью переключения между источниками путем указания файла конфигурации

### **Тестирование**
*   **Написать юнит-тесты** для сервисов `thread_processor` и `rag_service` с заменой вызовов LLM на имитации
*   **Настроить тестовое окружение:** Создать отдельную конфигурацию для тестового окружения с использованием тестовой базы данных.

### **Документация**
*   **Обновить `README.md`:** Добавить в `README.md` описание всех API эндпоинтов, включая админские, а также более подробную инструкцию по установке и настройке проекта.
*   **Создать документацию по API:** Сгенерировать документацию по API с использованием Swagger UI или ReDoc, которые встроены в FastAPI.
*   **Написать документацию для разработчиков:** Создать документацию, описывающую архитектуру проекта, основные компоненты и их взаимодействие.

